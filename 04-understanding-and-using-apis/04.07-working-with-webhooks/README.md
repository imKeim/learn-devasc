<!-- 4.7.1 -->
## Что такое Webhook?

webhook - это обратный вызов HTTP или HTTP POST для указанного URL-адреса, который уведомляет ваше приложение о том, что в одном из ваших ресурсов на платформе произошло определенное действие или «событие». Идея проста. Подумайте о том, чтобы попросить кого-нибудь «сразу же скажите мне, если произойдет X». Этот «кто-то» является поставщиком webhook, а вы - приложением.

webhook позволяют приложениям получать данные в реальном времени, потому что они запускаются определенными действиями или событиями. С помощью webhook приложения становятся более эффективными, поскольку им больше не требуется механизм опроса. Механизм опроса - это способ многократного запроса информации от службы до тех пор, пока не будет выполнено условие. Представьте, что вам нужно снова и снова спрашивать кого-то: «Икс уже случился? Икс уже случился?» Раздражает, правда? Это опрос. Опрос снижает производительность как клиента, так и сервера из-за многократной обработки запросов и ответов. Более того, опросы проводятся не в реальном времени, потому что опросы происходят с фиксированными интервалами. Если событие происходит сразу после последнего опроса, ваше приложение не узнает об измененном статусе, пока не истечет интервал опроса и не произойдет следующий опрос.

webhook также известны как обратные API-интерфейсы, поскольку приложения подписываются на сервер webhook, регистрируясь у поставщика webhook. Во время этого процесса регистрации приложение предоставляет URI, который будет вызываться сервером при возникновении целевого действия или события. Этот URI обычно представляет собой API на стороне приложения, который сервер вызывает при срабатывании webhook.

Когда срабатывает webhook, сервер отправляет уведомление, становясь вызывающим, и делает запрос на предоставленный URI. Этот URI представляет API для приложения, и приложение становится вызываемым и принимает запрос. В результате для webhook роли меняются; сервер становится клиентом, а клиент становится сервером. Несколько приложений могут подписаться на один сервер webhook.

### Примеры:

* Платформа Cisco DNA Center предоставляет webhook, которые позволяют сторонним приложениям получать сетевые данные при наступлении определенных событий. Вы можете зарегистрировать свое приложение с определенным URI конечной точки REST, который получает сообщение от Cisco DNAC, когда происходит определенное событие. Например, если сетевое устройство становится недоступным, webhook Cisco DNAC может отправить HTTP POST на URI, зарегистрированный вашим приложением в Cisco DNAC. Затем ваше приложение получает все сведения о сбое в объекте JSON из этого HTTP-запроса POST, чтобы оно могло предпринять необходимые действия. В этом случае Cisco DNAC является поставщиком webhook.
* Вы можете создать webhook, чтобы Cisco Webex Teams уведомляла вас о появлении новых сообщений в определенной комнате. Таким образом, вместо того, чтобы ваше приложение совершало повторные вызовы API Teams для определения того, было ли опубликовано новое сообщение, webhook автоматически уведомляет вас о каждом сообщении. В этом случае Cisco Webex Teams является поставщиком webhook.

<!-- 4.7.2 -->
## Использование Webhook

Чтобы получать уведомление от поставщика webhook, приложение должно соответствовать определенным требованиям:

* Приложение должно быть запущено постоянно, чтобы получать запросы HTTP POST.
* Приложение должно зарегистрировать URI у поставщика webhook, чтобы поставщик знал, куда отправлять уведомление при возникновении целевых событий.

В дополнение к этим двум требованиям приложение должно обрабатывать входящие уведомления от сервера webhook.

Поскольку в работе с webhook участвуют третьи стороны, иногда бывает сложно убедиться, что все работает правильно. Существует множество бесплатных онлайн-инструментов, которые гарантируют, что ваше приложение может получать уведомления от webhook. Многие также могут предоставить вам предварительный просмотр содержимого, представленного в уведомлении webhook. Эти инструменты можно найти, выполнив поиск по запросу «тестировщик webhook», и они могут быть полезны при разработке и внедрении вашего приложения.
